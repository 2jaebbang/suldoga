{% extends "base.html" %}
{% load static %}

{% block content %}

<style>
    input:-webkit-autofill{
        -webkit-box-shadow: 0 0 0 30px white inset !important;
    }
    input:focus {
        outline: none;
    }
    .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-family: Inter, system-ui;
        width: 100%;
        height: 100%;
        margin-top: 120px;
    }
    .select-register {
        display: flex;
        flex-direction: row;
        width: 380px;
        height: 88px;
    }
    .login {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 50%;
        height: 100%;
        font-size: 24px;
        background-color: #D9D9D9;
    }
    .register {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 50%;
        height: 100%;
        color: #ffffff;
        font-size: 24px;
        background-color: #0E0A08;
    }
    .form-item {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    .form-item-box {
        width: 380px;
        border-bottom: 1px solid dimgray;
        margin-top: 20px;
        padding: 14px 0 16px 0;
    }
    .form-item-input {
        width: 380px;
        border: none;
    }
    .form-item-error {
        border-bottom: 1px solid #D4374A;
    }
    .form-item-input::placeholder {
        text-align: center;
    }
    .form-item-label {
        margin-top: 84px;
        font-size: 24px;
    }
    .register-btn {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 380px;
        height: 75px;
        background-color: black;
        border: none;
        color: #ffffff;
        font-size: 18px;
        margin-top: 80px;
    }
    .gender-container {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        width: 380px;
        padding-top: 20px;
        margin-bottom: 80px;
    }
    .gender-label {
        position: absolute;
    }
    .gender-man {
        font-size: 16px;
        color: #4A8BEC;
        margin-left: 270px;
        margin-top: 40px;
    }
    .gender-woman {
        font-size: 16px;
        color: #D86E6E;
        margin-left: 70px;
        margin-top: 40px;
    }
    input[type="radio"] {
        -webkit-appearance: none;
        appearance: none;
        border: 1px solid lightgray;
        background-color: white;
        width: 184px;
        height: 50px;
        border-radius: 25px;
        margin-top: 40px;
        cursor: pointer;
        outline: none;
        position: absolute;
    }
    input[type="radio"]:hover {
        transform: scale(1.05);
    }
    input[type="radio"]:checked {
        background-color: #FBE5E9;
    }
    #id_gender_1 {
        margin-left: 200px;
    }
    #id_gender_1:checked {
        background-color: #D6E6FF;
    }
    #id_gender_2:checked {
        background-color: #FBE5E9;
    }
</style>

<div class="container">
    <div>
        <div class="select-register">
            <div class="login">Login</div>
            <div class="register">Register</div>
        </div>
        <form action="{% url 'accounts:register' %}" method="post">
            {% csrf_token %}
            {% for field in form %}
                <div class="form-item">
                    <label for="{{ field.label }}" class="form-item-label">{{ field.label }}</label>
                    {% if field.name == 'gender' %}
                        <div class="gender-container">
                        {% for radio in field.subwidgets %}
                            {% if forloop.counter0 != 0 %}
                            {{ radio.tag }}
                            {% if radio.choice_label == 'WOMAN' %}
                                <label for="{{ radio.id_for_label }}" class="gender-woman gender-label">{{ radio.choice_label }}</label>
                            {% else %}
                                <label for="{{ radio.id_for_label }}" class="gender-man gender-label">{{ radio.choice_label }}</label>
                            {% endif %}
                            {% endif %}
                        {% endfor %}
                        </div>
                    {% else %}

                    {% if field.errors %}
                        <div class="form-item-box form-item-error">
                        {{ field }}
                        </div>
                    {% else %}
                        <div class="form-item-box">
                        {{ field }}
                        </div>
                    {% endif %}

                    {% if field.errors %}
                        {% for error in field.errors %}
                            <p style="color: #D4374A;">{{ error | escape }}</p>
                        {% endfor %}
                    {% endif %}
                    {% endif %}
                </div>
            {% endfor %}

            <input type="submit" class="register-btn" value="취향 선택하러 가기" />
        </form>
    </div>
</div>

{% endblock %}